package sfdc.tests;

import java.io.IOException;

import org.testng.Assert;
import org.testng.annotations.AfterMethod;
import org.testng.annotations.AfterSuite;
import org.testng.annotations.BeforeMethod;
import org.testng.annotations.BeforeSuite;
import org.testng.annotations.BeforeTest;
import org.testng.annotations.Listeners;
import org.testng.annotations.Test;
import com.aventstack.extentreports.Status;
import sfdc.pages.AllTabPage;
import sfdc.pages.HomeTabPage;
import sfdc.pages.LoginPage;
import sfdc.utilities.ListenersUtilities;
@Listeners(ListenersUtilities.class)

public class AllTab extends BaseTest{
	//static AllTabPage allTabPage;
		
	@BeforeSuite
	public void setUp() throws Exception  {		
		                             //initializeLogging();		
		 //driver= getDriver("chrome");
		 initializeReport("AllTab");			
	}		
	
	@BeforeMethod
	public void launchApp() throws IOException, InterruptedException {		
		 driver= getDriver("chrome");
		driver.get(dataUtil.readAccounts("prod.url"));
		driver.manage().window().maximize();
		allTabPage = new AllTabPage(driver);			 
		bu.waitForElement(loginPage.eUserName,driver);
		Thread.sleep(3000);
		}
	
	@BeforeMethod            ////////this will always execute then how will test cases be tested for forget pw or wrong pw??????? also change to refactor style
	public void loginToApp() throws IOException,InterruptedException{			
				Assert.assertTrue(loginPage.isLoginPageDisplayed());
				bu.isElementVisible(loginPage.eUserName);
				bu.sendText(dataUtil.readAccounts("prod.username"), loginPage.eUserName);
				Thread.sleep(5000);
				bu.isElementVisible(loginPage.ePassword);
				bu.sendText(dataUtil.readAccounts("prod.password1"), loginPage.ePassword);		
				bu.clickOnElement(loginPage.eLoginButton);	
				}	
	
	@AfterMethod
	public void exit() {

		driver.quit();
	}

	
	@Test
	public  void VerifyTabCustomization_TC35() throws IOException,InterruptedException{
	
	bu.isElementVisible(allTabPage.eAllTab);
	bu.clickOnElement(allTabPage.eAllTab);
	Thread.sleep(9000);
	
	bu.isElementVisible(allTabPage.eCustomizeMyTab);
	bu.clickOnElement(allTabPage.eCustomizeMyTab);
	Thread.sleep(9000);
	
	bu.isElementVisible(allTabPage.eSelectionTab);
	bu.clickOnElement(allTabPage.eSelectionTab);
	Thread.sleep(9000);
	
	bu.isElementVisible(allTabPage.eRemove);
	bu.clickOnElement(allTabPage.eRemove);
	Thread.sleep(9000);
	
	bu.isElementVisible(allTabPage.eSave);
	bu.clickOnElement(allTabPage.eSave);
	Thread.sleep(9000);
	
	bu.isElementVisible(loginPage.eUserMenu);
	bu.clickOnElement(loginPage.eUserMenu);
	Thread.sleep(9000);
	
	bu.isElementVisible(homePage.eLogOut);
	bu.clickOnElement(homePage.eLogOut);
	Thread.sleep(9000);
	
	Assert.assertTrue(loginPage.isLoginPageDisplayed());
	bu.isElementVisible(loginPage.eUserName);
	bu.sendText(dataUtil.readAccounts("prod.username"), loginPage.eUserName);
	Thread.sleep(9000);
	bu.isElementVisible(loginPage.ePassword);
	bu.sendText(dataUtil.readAccounts("prod.password1"), loginPage.ePassword);
	Thread.sleep(9000);
	bu.clickOnElement(loginPage.eLoginButton);
	Thread.sleep(9000);
	
	}
	
}
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	

