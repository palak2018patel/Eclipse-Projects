package sfdc.tests;

import java.io.IOException;

import org.testng.Assert;
import org.testng.annotations.BeforeMethod;
import org.testng.annotations.BeforeSuite;
import org.testng.annotations.BeforeTest;
import org.testng.annotations.Test;

import sfdc.pages.ContactsPage;
import sfdc.pages.LeadsPage;

public class Contacts extends BaseTest{
	static ContactsPage contactsPage;


//@Parameters("browser name")
		@BeforeSuite
		public void setUp(String browserName) throws Exception  {		
			//initializeLogging();		
			 driver= getDriver("chrome");
			 leadsPage = new LeadsPage(driver);			 
			 initializeReport();			
		}		
		//@Parameters("env name")
		@BeforeTest
		public void launchApp() throws IOException {		
			driver.get(dataUtil.readAccounts("prod.url"));
			driver.manage().window().maximize();
			bu.waitForElement(loginPage.eUserName,driver);
			
		}
		
		@BeforeMethod           
		public void loginToApp() throws IOException{			
					Assert.assertTrue(loginPage.isLoginPageDisplayed());
					bu.isElementVisible(loginPage.eUserName);
					bu.sendText(dataUtil.readAccounts("prod.username"), loginPage.eUserName);	
					
					bu.isElementVisible(loginPage.ePassword);
					bu.sendText(dataUtil.readAccounts("prod.password1"), loginPage.ePassword);		
					
					bu.clickOnElement(loginPage.eLoginButton);	
					}	

		@Test
		public  void CreateNewContact_TC25() throws IOException{
		bu.isElementVisible(contactsPage.eContactsTab);
		bu.clickOnElement(contactsPage.eContactsTab);
		
		bu.isElementVisible(contactsPage.eNewView);
		bu.clickOnElement(contactsPage.eNewView);
		
		
		bu.isElementVisible(contactsPage.eLastName);
		bu.clickOnElement(contactsPage.eLastName);
		bu.clearText(contactsPage.eLastName);
		bu.sendText(dataUtil.readAccounts("prod.lastName"), contactsPage.eLastName);
		
		bu.isElementVisible(contactsPage.eAccountName);
		bu.clickOnElement(contactsPage.eAccountName);
		bu.clearText(contactsPage.eAccountName);
		bu.sendText(dataUtil.readAccounts("prod.accountName"),contactsPage.eAccountName);
		
		bu.isElementVisible(contactsPage.eSave);
		bu.clickOnElement(contactsPage.eSave);		
		}	
		
		
		@Test
		public  void createNewViewInContact_TC26() throws IOException{	
			
		bu.isElementVisible(contactsPage.eContactsTab);
		bu.clickOnElement(contactsPage.eContactsTab);
		
		bu.isElementVisible(contactsPage.eCreateNewView);
		bu.clickOnElement(contactsPage.eCreateNewView);
				
		bu.isElementVisible(contactsPage.eViewName);
		bu.clickOnElement(contactsPage.eViewName);
		bu.clearText(contactsPage.eViewName);
		bu.sendText(dataUtil.readAccounts("prod.viewName"), contactsPage.eViewName);
		
		bu.isElementVisible(contactsPage.eViewUniqueName);
		bu.clickOnElement(contactsPage.eViewUniqueName);
		bu.clearText(contactsPage.eViewUniqueName);
		bu.sendText(dataUtil.readAccounts("prod.viewUniqueName"), contactsPage.eViewUniqueName);
		
		bu.isElementVisible(contactsPage.eSave);
		bu.clickOnElement(contactsPage.eSave);		
		
		}
		
		@Test
		public void checkRecentlyCreatedContact_TC27() throws IOException{		
		
		bu.isElementVisible(contactsPage.eContactsTab);
		bu.clickOnElement(contactsPage.eContactsTab);
		
		bu.isElementVisible(contactsPage.ERecent);
		bu.clickOnElement(contactsPage.ERecent);
		
		
		bu.isElementVisible(contactsPage.eRecentlyCreated);
		bu.clickOnElement(contactsPage.eRecentlyCreated);		
		
		}
		@Test
		public void checkMyContactsView_TC28()  throws IOException{
		
		bu.isElementVisible(contactsPage.eContactsTab);
		bu.clickOnElement(contactsPage.eContactsTab);			
			
		bu.isElementVisible(contactsPage.eVIewDropDown);
		bu.clickOnElement(contactsPage.eVIewDropDown);		
		
		bu.isElementVisible(contactsPage.eMyContacts);
		bu.clickOnElement(contactsPage.eMyContacts);
		}
		
		@Test
		public void ViewAcontact_TC29() throws IOException{
		bu.isElementVisible(contactsPage.eContactsTab);
		bu.clickOnElement(contactsPage.eContactsTab);			
				
		bu.isElementVisible(contactsPage.eContactName);
		bu.clickOnElement(contactsPage.eContactName);
		}
		
		@Test
		public void checkErrorMessage_TC30() throws IOException{
		bu.isElementVisible(contactsPage.eContactsTab);
		bu.clickOnElement(contactsPage.eContactsTab);
		
		bu.isElementVisible(contactsPage.eCreateNewView);
		bu.clickOnElement(contactsPage.eCreateNewView);
		
		bu.isElementVisible(contactsPage.eViewUniqueName);
		bu.clearText(contactsPage.eViewUniqueName);
		bu.sendText(dataUtil.readAccounts("prod.efgh"), contactsPage.eViewUniqueName);
		
		bu.isElementVisible(contactsPage.eSave);
		bu.clickOnElement(contactsPage.eSave);
		
		bu.isElementVisible(contactsPage.eViewNameErrorMsg);
		bu.readTextFromElement(contactsPage.eViewNameErrorMsg);
		
		}	
		
		@Test
		public void checkCancelButton_TC31() throws IOException{
		
		bu.isElementVisible(contactsPage.eContactsTab);
		bu.clickOnElement(contactsPage.eContactsTab);
			
		bu.isElementVisible(contactsPage.eCreateNewView);
		bu.clickOnElement(contactsPage.eCreateNewView);
		
		bu.isElementVisible(contactsPage.eViewName);
		bu.clearText(contactsPage.eViewName);
		bu.sendText(dataUtil.readAccounts("prod.abcd"), contactsPage.eViewName);
		
		bu.isElementVisible(contactsPage.eViewUniqueName);
		bu.clearText(contactsPage.eViewUniqueName);
		bu.sendText(dataUtil.readAccounts("prod.efgh"), contactsPage.eViewUniqueName);
		
		bu.isElementVisible(contactsPage.eCancel);
		bu.clickOnElement(contactsPage.eCancel);		
		
		}	
		@Test
		public void checkSaveAndNewButtonInNewContact_TC32() throws IOException{
			bu.isElementVisible(contactsPage.eContactsTab);
			bu.clickOnElement(contactsPage.eContactsTab);
		
			bu.isElementVisible(contactsPage.eNew);
			bu.clickOnElement(contactsPage.eNew);
			
			bu.isElementVisible(contactsPage.eLastName);
			bu.clickOnElement(contactsPage.eLastName);
			bu.clearText(contactsPage.eLastName);
			bu.sendText(dataUtil.readAccounts("prod.eLastName"), contactsPage.eLastName);
			
			bu.isElementVisible(contactsPage.eAccountName);
			bu.clickOnElement(contactsPage.eAccountName);
			bu.clearText(contactsPage.eAccountName);
			bu.sendText(dataUtil.readAccounts("prod.eAccountName"),contactsPage.eAccountName);
			
			bu.isElementVisible(contactsPage.eSaveAndNew);
			bu.clickOnElement(contactsPage.eSaveAndNew);
			
		}	
}	














	
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
				
		
		
